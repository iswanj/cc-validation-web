{"version":3,"sources":["constants/ActionTypes.ts","actions/index.ts","util/validator.ts","styles/styled-components.ts","containers/Home/styles.ts","components/TextInput/styles.ts","components/TextInput/index.tsx","components/Button/styles.ts","components/Button/index.tsx","containers/Home/index.tsx","App.tsx","serviceWorker.ts","reducers/app.ts","reducers/form.ts","reducers/index.ts","index.tsx"],"names":["actionTypes","setState","state","action","SET_STATE","setError","errorObject","name","errMsg","Object","objectSpread","defineProperty","LuhnCheck","luhnArr","str","incNum","counter","odd","temp","String","replace","length","i","parseInt","charAt","validate","schema","data","keys","reduce","fieldName","fieldDef","value","type","required","test","pattern","RegExp","errorMessage","valueLength","lengthDef","slice","concat","join","styledComponents","styled","default","css","createGlobalStyle","keyframes","ThemeProvider","Wrapper","section","_templateObject","Row","div","_templateObject2","Col","_templateObject3","props","span","Box","_templateObject4","Header","_templateObject5","Title","h1","_templateObject6","Form","_templateObject7","InputGroup","_templateObject8","ButtonContainer","_templateObject9","Img","img","_templateObject10","LoadingModal","_templateObject11","styles_templateObject","p","inline","Label","styles_templateObject2","styles_templateObject3","InputContainer","styles_templateObject4","error","Input","styles_templateObject5","ErrorMsg","styles_templateObject6","ImgContainer","styles_templateObject7","InputField","handleOnChange","e","target","_this$props","_this","onChange","_this$props2","this","noLabel","label","placeholder","renderIcon","small","react","styles_Wrapper","styles_InputGroup","React","defaultProps","Button","button","Button_styles_templateObject","DefaultButton","children","restProps","objectWithoutProperties","validationRule","price","cardNumber","expireDate","ccv","Home","handleInputChange","frmErrors","validateStatus","onFieldChange","form","map","_toPropertyKey","getErrorState","handleCheckout","frmPayment","isEmpty","isShowLoading","imageName","mastercard","americanExpress","visa","discover","isUndefined","react_default","a","createElement","src","alt","TextInput_InputField","Button_DefaultButton","onClick","Component","HomeContainer","connect","payment","app","ON_FIELD_CHANGE","App","handleClick","AppContainer","Boolean","window","location","hostname","match","reducer","arguments","undefined","newState","payload","actionData","setOnChangeData","RESET_FORM","formName","resetForm","appReducer","combineReducers","rootReducer","middleware","thunk","store","createStore","applyMiddleware","apply","ReactDOM","render","es","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1cff766e.chunk.js","sourcesContent":["export enum actionTypes {\n  SET_STATE = \"@@app/SET_STATE\",\n  SAVE_PAYMENT = \"@@app/SAVE_PAYMENT\",\n  // form action types\n  ON_FIELD_CHANGE = \"@@app/ON_FIELD_CHANGE\",\n  RESET_FORM = \"@@app/RESET_FORM\"\n}\n\nexport interface IAppState {\n  readonly loading: boolean;\n  readonly error?: string;\n}\n","// Since there are only few actions, I'm keeping a single file for action creators\nimport { actionTypes } from '../constants/ActionTypes';\n\nimport { action } from \"typesafe-actions\";\n\nexport const setState = (state: object) => action(actionTypes.SET_STATE, state);\n\n\n/// Form related actions\nexport const onFieldChange = (state: object) => action(actionTypes.ON_FIELD_CHANGE, state);\nexport const resetForm = (formName: string) => action(actionTypes.RESET_FORM, formName);","const setError = (errorObject: object, name: string, errMsg: string) => {\n  return {\n    ...errorObject,\n    [name]: errMsg\n  };\n};\n\nconst LuhnCheck = (function()\n{\n\tconst luhnArr = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n\treturn function(str: any)\n\t{\n\t\tlet counter = 0;\n\t\tlet incNum;\n\t\tlet odd = false;\n\t\tconst temp = String(str).replace(/[^\\d]/g, \"\");\n\t\tif ( temp.length == 0)\n\t\t\treturn false;\n\t\tfor (let i = temp.length-1; i >= 0; --i)\n\t\t{\n\t\t\tincNum = parseInt(temp.charAt(i), 10);\n\t\t\tcounter += (odd = !odd)? incNum : luhnArr[incNum];\n\t\t}\n\t\treturn (counter%10 == 0);\n\t}\n})();\n\nexport const validate = (schema: any, data: any): object => {\n  const fields = Object.keys(schema);\n  return fields.reduce((errorObject: any, fieldName: any) => {\n    const fieldDef = schema[fieldName];\n    const value = data[fieldName];\n\n    // if data object does not contain a value for a required field submit errors\n    if (fieldDef.type !== 'boolean' && fieldDef.required && !value) {\n      const errMsg = 'Cannot be left empty';\n      return setError(errorObject, fieldName, errMsg);\n    }\n    // validate for number\n    if (value && fieldDef.type === 'number') {\n      if (!/^\\d+$/.test(value)) {\n        const errMsg = 'Only allow numeric values';\n        return setError(errorObject, fieldName, errMsg);\n      }\n    }\n\n    // validate for decimal\n    if (value && fieldDef.type === 'decimal') {\n      if (!/^\\d+(\\.\\d+)?$/.test(value)) {\n        const errMsg = 'Only allow decimal values';\n        return setError(errorObject, fieldName, errMsg);\n      }\n    }\n    // pattern validation; skip unicode\n    if (value && fieldDef.pattern) {\n      const regexp = new RegExp(fieldDef.pattern);\n      if (!regexp.test(value)) {\n        const errMsg = fieldDef.errorMessage || 'Invalid value';\n        return setError(errorObject, fieldName, errMsg);\n      }\n    }\n\n    // Length validation\n    if (value && fieldDef.length) {\n      const valueLength = value.length;\n      const lengthDef = fieldDef.length.slice();\n      if (valueLength < lengthDef[0] || valueLength > lengthDef[1]) {\n        // error = \"[\" + name + \"] \" + errlabel + fieldDef.length.join('-') + \" \" + crlabel;\n        const errMsg = lengthDef[0] === lengthDef[1] ? `Length should be equal to ${lengthDef[0]}` : `Should have length between ${fieldDef.length.join(\n          '-'\n        )} characters`;\n        return setError(errorObject, fieldName, errMsg);\n      }\n    }\n\n    // valdiate credit card number\n    if (value && fieldDef.type === 'creditcard') {\n      if (!LuhnCheck(value)) {\n        const errMsg = 'Invalid Credit Card Number';\n        return setError(errorObject, fieldName, errMsg);\n      }\n    }\n\n    return errorObject;\n  }, {});\n};\n","import * as styledComponents from \"styled-components\";\nimport { ThemedStyledComponentsModule } from \"styled-components\";\n\nimport ThemeInterface from \"./theme\";\n\nconst {\n  default: styled,\n  css,\n  createGlobalStyle,\n  keyframes,\n  ThemeProvider\n} = styledComponents as ThemedStyledComponentsModule<ThemeInterface>;\n\nexport { css, createGlobalStyle, keyframes, ThemeProvider };\nexport default styled;\n","import styled from '../../styles/styled-components';\n\nexport const Wrapper = styled.section`\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n`;\n\nexport const Row = styled.div`\n  display: flex;\n  flex-grow: 1;\n  flex-flow: row wrap;\n  justify-content: flex-start;\n`;\n\nexport const Col = styled(\"div\")<{ span: number }>`\n  min-height: 550px;\n  -ms-flex: auto;\n  flex-basis: 30%;\n  margin: 0 auto;\n  width: 500px;\n  position: relative;\n  box-sizing: border-box;\n\n  @media only screen and (max-width: 768px) {\n    flex-basis: ${props => (props.span ? (props.span / 12) * 100 : '8.33')}%;\n  }\n`;\n\nexport const Box = styled.div`\n  display: flex;\n  margin-top: 2em;\n  padding: 1em;\n  flex-grow: 1;\n  flex-direction: column;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0px 0px 3px 0px rgba(0,0,0,0.2);\n`;\n\nexport const Header = styled.div`\n  flex: 1;\n  padding: 1em;\n  border-bottom: 1px solid #ccc;\n`;\n\nexport const Title = styled.h1`\n  flex: 1;\n  font-size: 1.5em;\n  text-align: center;\n  color: #333;\n  font-weight: 400;\n`;\n\nexport const Form = styled.div`\n  flex: 1;\n  min-height: 200px;\n  padding-top: 1em;\n  flex-direction: row;\n`;\n\nexport const InputGroup = styled.div`\n  display: flex;\n  align-items: flex-start;\n  flex-grow: 1;\n  flex-direction: row;\n\n  @media only screen and (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  flex-grow: 1;\n  flex-direction: row;\n  padding: 0 0.5em;\n`;\n\nexport const Img = styled.img`\n  width: 24px;\n  height: 24px;\n`;\n\nexport const LoadingModal = styled.div`\n  display: flex;\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(255, 255, 255, 0.9);\n  top: 0;\n  left: 0;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: #333;\n  line-height: 1.5;\n`;\n","import styled from '../../styles/styled-components';\n\ninterface IDiv {\n  inline?: boolean;\n  small?: boolean;\n}\ninterface IInput {\n  error?: string;\n}\n\nexport const Wrapper = styled('div')<IDiv>`\n  display: flex;\n  flex-grow: 1;\n  flex-direction: ${p => (p.inline ? 'row' : 'column')};\n  align-items: flex-start;\n  padding: 0 0.5em 0.8em 0.5em;\n  @media only screen and (max-width: 768px) {\n    flex-basis: 100%;\n    width: calc(100% - 1em);\n  }\n`;\n\nexport const Label = styled('label')<IDiv>`\n  display: flex;\n  flex-grow: 3;\n  flex-basis: ${p => (p.inline ? 0 : 1)};\n  margin-bottom: 5px;\n  font-size: 14px;\n  color: #444;\n  padding-top: 5px;\n`;\n\nexport const InputGroup = styled('div')<IDiv>`\n  display: flex;\n  flex-grow: 5;\n  flex-basis: ${p => (p.inline ? 0 : 1)};\n  flex-direction: column;\n  box-sizing: border-box;\n  position: relative;\n  width: ${p => (p.inline ? 'unset' : '100%')};\n  margin: 1px 0;\n`;\n\nexport const InputContainer = styled('div')<IInput>`\n  display: flex;\n  flex-grow: 1;\n  flex-direction: row;\n  align-items: center;\n  border: 1px solid;\n  border-radius: 3.01px;\n  border-color: ${p => (p.error && p.error !== '' ? '#ef5350' : '#ccc')};\n  box-sizing: border-box;\n  font-size: 1em;\n  margin: 0;\n  vertical-align: baseline;\n  width: 100%;\n`;\n\nexport const Input = styled('input')<IInput>`\n  flex: 1;\n  padding: 12px 8px;\n  border: none;\n  border-radius: 3.01px;\n  outline: none;\n`;\n\nexport const ErrorMsg = styled.p`\n  clear: both;\n  color: #ef5350;\n  display: block;\n  font-size: 1.1em;\n  margin: 5px 0 0;\n  font-size: 13px;\n`;\n\nexport const ImgContainer = styled.div`\n  padding-right: 4px;\n`;\n","import * as React from 'react';\n\nimport { ErrorMsg, Input, InputGroup, Label, Wrapper, InputContainer, ImgContainer } from './styles';\n\ninterface IinputProps {\n  placeholder?: string;\n  name: string;\n  inline?: boolean;\n  label: string;\n  error?: string;\n  value: any;\n  noLabel?: boolean;\n  small?: boolean;\n  onChange: (name: string, value: string) => void;\n  renderIcon?: (value: string) => any;\n}\n\nexport default class InputField extends React.Component<IinputProps> {\n  public static defaultProps = {\n    inline: false\n  };\n\n  private handleOnChange = (e: React.FormEvent) => {\n    const target = e.target as HTMLInputElement;\n    const value: string = target.value;\n    const { onChange, name } = this.props;\n    onChange(name, value);\n  };\n\n  public render() {\n    const {\n      inline,\n      noLabel,\n      label,\n      error,\n      value,\n      placeholder,\n      renderIcon,\n      small\n    } = this.props;\n    return (\n      <Wrapper inline={inline} small={small}>\n        {!noLabel && <Label inline={inline}>{label}</Label>}\n        <InputGroup inline={inline}>\n          <InputContainer error={error}>\n            <Input\n              placeholder={placeholder}\n              value={value || ''}\n              onChange={this.handleOnChange}\n              error={error}\n            />\n            <ImgContainer>\n              {renderIcon && renderIcon(value)}\n            </ImgContainer>\n          </InputContainer>\n          {error && <ErrorMsg>{error}</ErrorMsg>}\n        </InputGroup>\n      </Wrapper>\n    );\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: center;\n  border-radius: 3px;\n  padding: 0.9em 2em;\n  margin: 1em 0;\n  background: transparent;\n  color: #1565c0;\n  cursor: pointer;\n  border: 2px solid #1565c0;\n`;","import * as React from \"react\";\nimport { Button } from \"./styles\";\n\ninterface InterfaceButton {\n  children: any;\n  onClick: () => void;\n}\n\nexport default class DefaultButton extends React.Component<InterfaceButton> {\n  public render() {\n    const { children, ...restProps } = this.props;\n\n    return <Button {...restProps}>{children}</Button>;\n  }\n}","import React, { Component } from 'react';\n\nimport { connect } from 'react-redux';\nimport { isEmpty } from 'lodash';\nimport { isUndefined } from 'lodash';\nimport { setState, onFieldChange } from '../../actions';\n\nimport { validate } from '../../util/validator';\n\nimport {\n  Wrapper,\n  Row,\n  Col,\n  Box,\n  Header,\n  Title,\n  Form,\n  InputGroup,\n  ButtonContainer,\n  Img,\n  LoadingModal\n} from './styles';\n\nimport TextInput from '../../components/TextInput';\nimport Button from '../../components/Button';\n\ninterface IHomeProps {\n  frmPayment: any;\n  frmErrors: any;\n  setState: (state: any) => void;\n  onFieldChange: (state: object) => void;\n  isShowLoading: boolean;\n}\n\nconst validationRule = {\n  price: {\n    name: 'price',\n    required: true,\n    type: 'decimal'\n  },\n  name: {\n    name: 'name',\n    required: true,\n    type: 'string'\n  },\n  cardNumber: {\n    name: 'cardNumber',\n    required: true,\n    length: [16, 16],\n    type: 'creditcard'\n  },\n  expireDate: {\n    name: 'expireDate',\n    required: true,\n    type: 'string',\n    pattern: /^(1[0-2]|0[1-9]|\\d)\\/([2-9]\\d[1-9]\\d|[1-9]\\d)$/,\n    errorMessage: 'Invalid Date'\n  },\n  ccv: {\n    name: 'ccv',\n    required: true,\n    type: 'number',\n    length: [3, 3]\n  }\n};\nexport default class Home extends Component<IHomeProps> {\n  public static defaultProps = {\n    frmPayment: {\n      price: ''\n    },\n    frmErrors: {}\n  };\n\n  private handleInputChange = (name: string, value: any) => {\n    const { frmErrors } = this.props;\n    const validateStatus: any = validate(validationRule, {\n      [name]: value\n    });\n\n    const getErrorState = () => {\n      if (validateStatus[name]) {\n        return { ...frmErrors, [name]: validateStatus[name] };\n      } else {\n        const { [name]: _, ...restErrors } = frmErrors;\n        return restErrors;\n      }\n    };\n\n    this.props.onFieldChange({\n      form: 'payment',\n      name,\n      value\n    });\n\n    this.props.setState({\n      frmErrors: getErrorState()\n    });\n  };\n\n  private handleCheckout = () => {\n    const { frmPayment, setState } = this.props;\n    const validateStatus = validate(validationRule, frmPayment);\n    if (isEmpty(validateStatus)) {\n      setState({\n        isShowLoading: true\n      })\n    } else {\n      setState({\n        frmErrors: validateStatus\n      });\n    }\n  };\n\n  private renderIcon = (value: string) => {\n    const mastercard = new RegExp(\n      /^5[1-5][0-9]{14}$|^2(?:2(?:2[1-9]|[3-9][0-9])|[3-6][0-9][0-9]|7(?:[01][0-9]|20))[0-9]{12}$/\n    );\n    const americanExpress = new RegExp(/^3[47][0-9]{13}$/);\n    const visa = new RegExp(/^4[0-9]{12}(?:[0-9]{3})?$/);\n    const discover = new RegExp(\n      /^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})$/\n    );\n    let imageName;\n    if (visa.test(value)) {\n      imageName = 'visa';\n    } else if (mastercard.test(value)) {\n      imageName = 'mastercard';\n    } else if (americanExpress.test(value)) {\n      imageName = 'american-express';\n    } else if (discover.test(value)) {\n      imageName = 'discover';\n    }\n\n    if (isUndefined(imageName)) return <span />;\n\n    return (\n      <Img\n        src={process.env.PUBLIC_URL + '/' + imageName + '.png'}\n        alt={imageName}\n      />\n    );\n  };\n\n  public render() {\n    const { frmPayment, frmErrors, isShowLoading } = this.props;\n    return (\n      <Wrapper>\n        <Row>\n          <Col span={12}>\n            <Box>\n              <Header>\n                <Title>Payment Details</Title>\n              </Header>\n              <Form>\n                <InputGroup>\n                  <TextInput\n                    label=\"Price\"\n                    name=\"price\"\n                    error={frmErrors.price}\n                    value={frmPayment.price}\n                    onChange={this.handleInputChange}\n                  />\n                </InputGroup>\n                <InputGroup>\n                  <TextInput\n                    label=\"Name on Card\"\n                    name=\"name\"\n                    error={frmErrors.name}\n                    value={frmPayment.name}\n                    onChange={this.handleInputChange}\n                  />\n                </InputGroup>\n                <InputGroup>\n                  <TextInput\n                    label=\"Card Number\"\n                    name=\"cardNumber\"\n                    error={frmErrors.cardNumber}\n                    value={frmPayment.cardNumber}\n                    onChange={this.handleInputChange}\n                    renderIcon={this.renderIcon}\n                  />\n                </InputGroup>\n                <InputGroup>\n                  <TextInput\n                    label=\"MM/YY\"\n                    name=\"expireDate\"\n                    error={frmErrors.expireDate}\n                    value={frmPayment.expireDate}\n                    onChange={this.handleInputChange}\n                    small={true}\n                  />\n                  <TextInput\n                    label=\"CCV\"\n                    name=\"ccv\"\n                    error={frmErrors.ccv}\n                    value={frmPayment.ccv}\n                    onChange={this.handleInputChange}\n                    small={true}\n                  />\n                </InputGroup>\n                <ButtonContainer>\n                  <Button onClick={this.handleCheckout}>Checkout</Button>\n                </ButtonContainer>\n              </Form>\n            </Box>\n          </Col>\n        </Row>\n        {isShowLoading && (\n          <LoadingModal>\n            <Img src={process.env.PUBLIC_URL + '/loading.svg'} alt=\"loading\" />\n            Payment Processing\n          </LoadingModal>\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => {\n  return {\n    frmPayment: state.form.payment,\n    frmErrors: state.app.frmErrors,\n    isShowLoading: state.app.isShowLoading\n  };\n};\nexport const HomeContainer = connect(\n  mapStateToProps,\n  { setState, onFieldChange }\n)(Home);\n","import React, { Component } from 'react';\n\nimport { connect } from \"react-redux\";\nimport { setState } from \"./actions\";\n\nimport { HomeContainer } from \"./containers/Home\";\n\nimport \"./index.css\";\ninterface IProps {\n  test: boolean;\n  setState: (state: any) => void;\n}\nexport default class App extends Component<IProps> {\n  private handleClick = () => {\n    this.props.setState({\n      test: true\n    });\n  }\n\n  public render() {\n    return (\n      <HomeContainer />\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => {\n  return {\n    test: state.app.test\n  };\n};\nexport const AppContainer = connect(\n  mapStateToProps,\n  { setState }\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { Reducer } from \"redux\";\nimport { actionTypes, IAppState } from \"../constants/ActionTypes\";\nfunction setState(state: any, newState: any) {\n  return { ...state, ...newState };\n}\nfunction clearState() {\n  return {};\n}\n\nconst reducer: Reducer<IAppState> = (state: any = {}, action) => {\n  switch (action.type) {\n    case actionTypes.SET_STATE:\n      return setState(state, action.payload);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","import { Reducer } from \"redux\";\nimport { actionTypes, IAppState } from \"../constants/ActionTypes\";\n\nconst setOnChangeData = (\n  state: any,\n  actionData: {\n    form: string;\n    name: string;\n    value: any;\n  }\n) => {\n  return {\n    ...state,\n    [actionData.form]: {\n      ...state[actionData.form],\n      [actionData.name]: actionData.value\n    }\n  };\n};\n\nconst setForm = (state: any, form: { name: string; value: object }) => {\n  return {\n    ...state,\n    [form.name]: form.value\n  };\n};\n\nconst resetForm = (state: any, formName: string) => {\n  return { ...state, [formName]: {} };\n};\n\nconst reducer: Reducer<IAppState> = (state: any = {}, action) => {\n  switch (action.type) {\n    case actionTypes.ON_FIELD_CHANGE:\n      return setOnChangeData(state, action.payload);\n    case actionTypes.RESET_FORM:\n      return resetForm(state, action.payload);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from \"redux\";\n// import reducers\nimport app from \"./app\";\nimport form from \"./form\";\n\nconst appReducer = combineReducers({\n  app,\n  form\n});\n\ninterface Iaction {\n  type: string;\n  state: object;\n}\nconst rootReducer = (state: any = {}, action: Iaction) => {\n  if (action.type === \"USER_LOGOUT\") {\n    state = {};\n  }\n  return appReducer(state, action);\n};\nexport default rootReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { AppContainer } from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport { createLogger } from 'redux-logger';\nimport thunk from 'redux-thunk';\n\nimport reducer from './reducers';\n\nlet middleware: any = [thunk];\n\nif (process.env.NODE_ENV !== 'production') {\n  middleware.push(createLogger());\n}\n\nconst store = createStore(reducer, applyMiddleware(...middleware));\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}